POPUP=new class{constructor(){this.list={}}show(a){a.target&&(a=a.target.getAttribute('popup')),this.closeAll(),this.list[a].hidden=false}closeAll(){for(var a in this.list)this.list[a].hidden=true}register(a){this.list[a.id]=a}},POPUPshow=POPUP.show.bind(POPUP);document.head.insertAdjacentHTML('beforeend', `<template id="pop-up-header"><style>:host{display:block;--color:white;user-select:none}#header{color:var(--color);padding:5px 0;margin:0;width:100%;border-collapse:collapse}#header .brand{width:90px;color:silver;font-size:17px;padding-left:10px;white-space:nowrap}#header .brand:hover{color:white}#header .title{text-align:center;font-variant:small-caps;font-size:25px}#header .close{width:100px;text-align:right;font-size:30px;color:silver;padding-right:10px}#header .close span:hover{cursor:pointer;color:white}</style><table id="header"><tr><td class="brand"><slot></slot></td><td class="title"></td><td class="close"><span on-tap="close">&#xD7;</span></td></tr></table></template>`);window.customElements.define('pop-up-header',class extends HTMLElement{constructor(){super(),this.attachShadow({mode:'open'}).appendChild(document.querySelector('template#pop-up-header').content.cloneNode(true));;}$(a){return this.shadowRoot.querySelector(a)}set title(a){void 0,this.$('.title').innerHTML=a}});document.head.insertAdjacentHTML('beforeend', `<template id="pop-up"><style>:host{position:absolute;left:0;right:0;top:0;bottom:0;text-align:center;font-size:20px;--corners:3px}#fog{position:absolute;width:100%;height:100%;background:#ddd;opacity:.9}#dialog{display:inline-block;position:relative;margin:0 auto;top:2%;width:96%;z-index:100;background:white;border-radius:3px;overflow:hidden}#content{margin:10px}@media (min-device-width:600px){#dialog{top:20%;width:400px}}pop-up-header{background:var(--header-background, #333)}</style><div id="fog" on-tap="close"></div><div id="dialog"><pop-up-header><slot name="brand"></slot></pop-up-header><div id="content"><slot></slot></div></div></template>`);window.customElements.define('pop-up',class extends HTMLElement{constructor(){super(),this.attachShadow({mode:'open'}).appendChild(document.querySelector('template#pop-up').content.cloneNode(true));;}$(a){return this.shadowRoot.querySelector(a)}connectedCallback(){this.hidden=true,POPUP.register(this)}show(){this.hidden=false}close(){this.hidden=true}static get observedAttributes(){return['title']}attributeChangedCallback(a,b,c){a=='title'&&setTimeout(()=>this.$('pop-up-header').title=c,10)}});